<!DOCTYPE html>
<html lang="en">
<head>
<style type="text/css">
  html, body { height: 100%; margin: 0; padding: 0; }
  #map { height: 100%; }
</style>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
<meta name="description" content="">
<meta name="author" content="">
<link rel="icon" href="../../favicon.ico">
<title>JBoss Demo</title>

<!-- Bootstrap -->
<link href="css/bootstrap.min.css" rel="stylesheet">
<link href="css/starter-template.css" rel="stylesheet">
<!-- Angular js
<script src="js/angular.min.js" type="text/javascript"></script>
 -->
<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>
<body>
	<nav class="navbar navbar-inverse navbar-fixed-top">
		<div class="container">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle collapsed"
					data-toggle="collapse" data-target="#navbar" aria-expanded="false"
					aria-controls="navbar">
					<span class="sr-only">Toggle navigation</span> <span
						class="icon-bar"></span> <span class="icon-bar"></span> <span
						class="icon-bar"></span>
				</button>
				<a class="navbar-brand" href="#">Home</a>
			</div>
			<div id="navbar" class="collapse navbar-collapse">
				<ul class="nav navbar-nav">
					<li class="active"><a href="/">Home</a></li>

					<li><a href="/about">About</a></li>
					<!--
					<li><a href="#contact">Contact</a></li>
					 -->
				</ul>
			</div>
			<!--/.nav-collapse -->
		</div>
	</nav>
	<!-- main container -->
	<div class="container" style="width:80%;">
		<!-- left container -->
		<div class="col-md-6">
			<div class="container" style="width: 100%; margin-left: auto; margin-right: auto;background-color:#eee;">
				<div class="starter-template">
					<div class="row">
						<div class="col-md-4"></div>		
						<div class="col-md-4"">		
							<h2>Client</h2>
						</div>
						<div class="col-md-4"></div>		
					</div>
					
					<div id="formDiv">
						<form role="search">
						<label id="statusLabel">Status : disconnected </label>
						
							<div class="row">
								<div class="col-md-1"></div>
								<div class="col-md-6">
									<input type="text" class="form-control" placeholder="Enter Staff ID" id="formClientId" />
								</div>		
								<div class="col-md-4">
									<button type="button" class="btn btn-default" id="btnConnect">Login</button>
								</div>		
								<div class="col-md-1"></div>
							</div><!-- row -->
							<div class="row">
								<div class="col-md-1"></div>
								<div class="col-md-6">
									<input type="text" class="form-control" placeholder="Enter Message" id="formMsg"/>
								</div>		
								<div class="col-md-4">
									<button type="button" class="btn btn-default" id="btnSendMsg">Send</button>
								</div>		
								<div class="col-md-1"></div>
							</div><!-- row -->
							<div class="row">
								<div class="col-md-1"></div>
								<div class="col-md-6">
									<input type="file" class="form-control" id="formFile">
								</div>		
								<div class="col-md-4">
									<button type="button" class="btn btn-default" id="btnSendFile">Send</button>
								</div>		
								<div class="col-md-1"></div>
							</div><!-- row -->
						</form>
					</div><!-- formDiv -->
					
				</div>
				<!--  end starter template -->
			</div>
				<div id="displayDiv" class="container" style="width: 100%; height: 80px; text-align: center; background-color: #eee; padding-top: 10px;">
				</div>	<!-- end displayDiv -->
				<div id="imgDiv" class="container" style="width: 100%; height: 350px; text-align: center; background-color: #eee; padding-top: 10px;">
					<img id="localImg" src="" ></img>
				</div>	
			<!--  end container -->
			</div><!-- end left container -->
			
			<!-- right container -->
			<div class="col-md-6">
				<div style="height: 50px;padding-top:20px;"><h4>Map</h4></div>
				<div id="mapSection" class="container" style="width: 100%; margin-left: auto; margin-right: auto;background-color:#eee;">
					<div id="map" style="height: 350px;">
					</div>
				</div><!-- end mapSection -->
			</div><!-- end right -->
			
	</div><!-- end main container -->
	<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
	<script src="js/jquery-2.1.4.min.js" type="text/javascript"></script>
	<!-- Include all compiled plugins (below), or include individual files as needed -->
	<script src="js/bootstrap.min.js" type="text/javascript"></script>
	<script src="/socket.io/socket.io.js"></script>
	<script src="js/delivery.js"></script>
	<script type="text/javascript">
	 var file=null;
	 var btnAction=null;
	 var btnConnectStatus=0;
	 var clientId=null;	
	 var socket=null;
	 var delivery=null;
	//map
	var map;
	var marker;
	var currentPos;	
	var infoWindow;	  
	</script>
	<script src="js/dashboard-client.js"></script>
	<script type="text/javascript">
	  function readyFn( jQuery ) {
		 //alert('ready');
			$( ".btn" ).bind("click", function(e) {
				  btnClick(e);
			}); 

			$("#formFile").bind("change", function(e) {
				file=e.target.files[0];
				console.log(file.name + ' selected');
				$('#displayDiv').html(file.name + ' selected');
				e.preventDefault();
			});		 
	 }

		 
	function btnClick(event){
		 var targetId=event.target.id;
		console.log(targetId +' clicked');
		if (targetId=='btnConnect') {
			DashboardClient.connect();
		}  else if (targetId=='btnSendMsg') {
			DashboardClient.sendMsg();
		}  else if (targetId=='btnSendFile') {
			DashboardClient.sendFile();
		}		
	}	//btnClick
	$( document ).ready( readyFn );
	</script>
	
	<script type="text/javascript">
	//map functions moved to dashboard-client.js
	</script>	
    <script async defer
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDErpMxmykosJr3tMgcy6pJzbSInc5gke4&callback=initMap">
    </script>	
	
</body>
</html>
